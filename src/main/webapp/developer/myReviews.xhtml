<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<ui:composition template="../templates/reviewTemplate.xhtml">
    <ui:define name="content">
        <h:form>
            <h:dataTable styleClass="table table-dark table-striped" var="review" value="#{developerReviewsController.reviewDTOList}" >
                <h:column>
                    <f:facet name="header">#{msg['page.buildingsales.view.my.reviews.table.title']}</f:facet>
                    <h:outputText value="#{review.title}" />
                </h:column>

                <h:column >
                    <f:facet name="header">#{msg['page.buildingsales.view.my.reviews.table.area']}</f:facet>
                    <h:outputText value="#{review.area}" styleClass="text-danger" />
                </h:column>

                <h:column>
                    <f:facet name="header">#{msg['page.buildingsales.view.my.reviews.table.building.type']}</f:facet>
                    <ui:fragment rendered="#{review.buildingType eq 'Flat'}">
                        <h:outputText id="buildingTypeFlat" styleClass="text-danger" value="${msg['page.buildingsales.display.review.content.form.label.review.building.flat']}" />
                    </ui:fragment>
                    <ui:fragment rendered="#{review.buildingType eq 'Land'}">
                        <h:outputText id="buildingTypeLand" styleClass="text-danger" value="${msg['page.buildingsales.display.review.content.form.label.review.building.land']}" />
                    </ui:fragment>
                    <ui:fragment rendered="#{review.buildingType eq 'House'}">
                        <h:outputText id="buildingTypeHouse" styleClass="text-danger" value="${msg['page.buildingsales.display.review.content.form.label.review.building.house']}" />
                    </ui:fragment>
                </h:column>

                <h:column>
                    <f:facet name="header">#{msg['page.buildingsales.view.my.reviews.table.living.space']}</f:facet>
                    <h:outputText value="#{review.livingSpace}" />
                </h:column>
                <h:column>
                    <f:facet name="header">#{msg['page.buildingsales.view.my.reviews.table.garage']}</f:facet>
                    <ui:fragment rendered="#{review.garage}">
                        <h:outputText id="garageTrue" value="#{msg['page.buildingsales.display.review.content.form.label.review.garage.true']}" />
                    </ui:fragment>
                    <ui:fragment rendered="#{not review.garage}">
                        <h:outputText id="garageFalse" value="#{msg['page.buildingsales.display.review.content.form.label.review.garage.false']}" />
                    </ui:fragment>
                </h:column>
                <h:column>
                    <f:facet name="header">#{msg['page.buildingsales.view.my.reviews.table.city']}</f:facet>
                    <h:outputText value="#{review.city}" />
                </h:column>
                <h:column>
                    <f:facet name="header">#{msg['page.buildingsales.view.my.reviews.table.street']}</f:facet>
                    <h:outputText value="#{review.street}" />
                </h:column>
                <h:column>
                    <f:facet name="header">#{msg['page.buildingsales.view.my.reviews.table.post.code']}</f:facet>
                    <h:outputText value="#{review.postCode}" />
                </h:column>
                <h:column>
                    <f:facet name="header">#{msg['page.buildingsales.view.my.reviews.table.button.edit']}</f:facet>
                    <p:commandLink value="#{msg['page.buildingsales.view.my.reviews.table.button.edit']}"
                                   actionListener="#{developerReviewsController.getReviewToEdit}"
                                   icon="pi pi-pencil" styleClass="btn btn btn-light form-control" immediate="true">
                        <f:attribute name="reviewToEdit" value="#{review}"/>
                    </p:commandLink>
                </h:column>
                <h:column>
                    <f:facet name="header">#{msg['page.buildingsales.view.my.reviews.table.button.delete']}</f:facet>
                    <p:commandLink value="#{msg['page.buildingsales.view.my.reviews.table.button.delete']}"
                                   action="#{developerReviewsController.reviewDelete(review.id)}"
                                   icon="pi pi-minus-circle" styleClass="btn btn btn-light form-control" immediate="true"/>
                </h:column>
                <h:column>
                    <f:facet name="header">#{msg['page.buildingsales.view.my.reviews.table.button.view']}</f:facet>
                    <p:commandLink value="#{msg['page.buildingsales.view.my.reviews.table.button.view']}"
                                   actionListener="#{developerReviewsController.displayReview}"
                                   icon="pi pi-desktop" styleClass="btn btn btn-light form-control">
                    <f:attribute name="review" value="#{review}"/>
                    </p:commandLink>
                </h:column>
                <h:column>
                    <f:facet name="header">#{msg['page.buildingsales.view.my.reviews.table.button.addMeeting']}</f:facet>
                    <p:commandLink value="#{msg['page.buildingsales.view.my.reviews.table.button.addMeeting']}"
                                   actionListener="#{developerReviewsController.addMeeting}"
                                   icon="pi pi-cog" styleClass="btn btn btn-light form-control">
                        <f:attribute name="addMeetingReview" value="#{review}"/>
                    </p:commandLink>
                </h:column>
            </h:dataTable>
        </h:form>
    </ui:define>
</ui:composition>
</html>
